{% extends "base_generic.html" %}

{% block content %}

    <section class="py-5">
        <div class="container py-5">
          <div class="row mb-4 mb-lg-5">
            <div class="col-md-8 col-xl-6 text-center mx-auto">
              <h2 class="fw-bold">Reset password</h2>
            </div>
          </div>
          <div class="row d-flex justify-content-center">
            <div class="col-md-6 col-xl-4">
              <div class="card">
                <div
                  class="card-body text-center d-flex flex-column align-items-center"
                >
                  <div
                    class="bs-icon-xl bs-icon-circle bs-icon-primary shadow bs-icon my-4"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="1em"
                      height="1em"
                      fill="currentColor"
                      viewBox="0 0 16 16"
                      class="bi bi-emoji-wink-fill"
                      style="font-size: 40px"
                    >
                      <path
                        d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM7 6.5C7 5.672 6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8s1-.672 1-1.5zM4.285 9.567a.5.5 0 0 0-.183.683A4.498 4.498 0 0 0 8 12.5a4.5 4.5 0 0 0 3.898-2.25.5.5 0 1 0-.866-.5A3.498 3.498 0 0 1 8 11.5a3.498 3.498 0 0 1-3.032-1.75.5.5 0 0 0-.683-.183zm5.152-3.31a.5.5 0 0 0-.874.486c.33.595.958 1.007 1.687 1.007.73 0 1.356-.412 1.687-1.007a.5.5 0 0 0-.874-.486.934.934 0 0 1-.813.493.934.934 0 0 1-.813-.493z"
                      ></path>
                    </svg>
                  </div>
                  {% if validlink %}
                  <p>Please enter (and confirm) your new password.</p>
                  <form action="" method="post">
                  {% csrf_token %}
                      <table>
                          <tr>
                              <td>{{ form.new_password1.errors }}
                                  <label for="id_new_password1">New password:</label></td>
                              <td>{{ form.new_password1 }}</td>
                          </tr>
                          <tr>
                              <td>{{ form.new_password2.errors }}
                                  <label for="id_new_password2">Confirm password:</label></td>
                              <td>{{ form.new_password2 }}</td>
                          </tr>
                          <tr>
                              <td></td>
                              <td><input type="submit" value="Change my password"></td>
                          </tr>
                      </table>
                  </form>
              {% else %}
                  <h1>Password reset failed</h1>
                  <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
              {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
{% endblock %}
